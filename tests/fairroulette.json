{
  "types": {
    "BetInfo": [
      "id RequestId",
      "sender Address",
      "amount Int",
      "color Int"
    ],
    "AuctionInfo": [
      "color Color",
      "numTokens Int",
      "minimumBid Int",
      "description String",
      "whenStarted Int",
      "duration Int",
      "auctionOwner Address",
      "deposit Int",
      "ownerMargin Int",
      "bids []BidInfo"
    ],
    "BidInfo": [
      "address Address",
      "amount Int",
      "when Int"
    ],
    "TokenInfo": [
      "supply Int",
      "mintedBy Address",
      "owner Address",
      "created Int",
      "updated Int",
      "description String",
      "userDefined String"
    ],
    "DonationInfo": [
      "seq Int",
      "id RequestId",
      "amount Int",
      "sender Address",
      "error String",
      "feedback String"
    ]
  },
  "setups": {
    "default": {
      "contract": {
        "name": "fairroulette",
        "description": "Simple gambling app",
        "id": "fairrouletteId",
        "address": "@scAddress",
        "color": "#scColor",
        "owner": "@scOwner"
      },
      "account": {
        "colors": ["#iota"],
        "balance": {"#iota": 100}
      },
      "request": {
        "timestamp": 20200928112900,
        "id": "$txHash",
        "hash": "#txHash",
        "address": "@sender"
      }
    }
  },
  "tests": {
    "payWinner": {
      "setup": "default",
      "flags": "nodelay",
      "utility": {"random": 2},
      "request": {
        "function": "placeBet",
        "colors": ["#iota"],
        "balance": {"#iota": 100},
        "params": {
          "color": 3
        }
      },
      "expect": {
        "account": {
          "colors": ["#iota"],
          "balance": {"#iota": 200}
        },
        "state": {
          "lastWinningColor": 3
        },
        "logs": [],
        "postedRequests": [
          {"contract": "@scAddress", "function": "lockBets", "delay": 120},
          {"contract": "@scAddress", "function": "payWinners", "delay": 0}
        ],
        "transfers": [
          {"address": "@sender", "amount": 100, "color": "#iota"}
        ]
      }
    },
    "nobodyWins": {
      "setup": "default",
      "flags": "nodelay",
      "utility": {"random": 1},
      "request": {
        "function": "placeBet",
        "colors": ["#iota"],
        "balance": {"#iota": 100},
        "params": {
          "color": 3
        }
      },
      "expect": {
        "account": {
          "colors": ["#iota"],
          "balance": {"#iota": 200}
        },
        "state": {
          "lastWinningColor": 2
        },
        "logs": [],
        "postedRequests": [
          {"contract": "@scAddress", "function": "lockBets", "delay": 120},
          {"contract": "@scAddress", "function": "payWinners", "delay": 0}
        ],
        "transfers": [
          {"address": "@scAddress", "amount": 100, "color": "#iota"}
        ]
      }
    },
    "placeOneBet": {
      "setup": "default",
      "request": {
        "function": "placeBet",
        "colors": ["#iota"],
        "balance": {"#iota": 100},
        "params": {
          "color": 3
        }
      },
      "expect": {
        "account": {
          "colors": ["#iota"],
          "balance": {"#iota": 200}
        },
        "state": {
          "bets": [
            {
              "BetInfo": {
                "id": "$txHash",
                "sender": "@sender",
                "amount": 100,
                "color": 3
              }
            }
          ]
        },
        "logs": [],
        "postedRequests": [{"contract": "@scAddress", "function": "lockBets", "delay": 120}],
        "transfers": []
      }
    }
  }
}
